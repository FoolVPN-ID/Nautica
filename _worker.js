const _0x580a87=_0x18e0;(function(_0x36aa8a,_0x5a9391){const _0x1a3d44=_0x18e0,_0x37cbfa=_0x36aa8a();while(!![]){try{const _0x56abf6=-parseInt(_0x1a3d44(0x1cc))/0x1*(-parseInt(_0x1a3d44(0x1fd))/0x2)+parseInt(_0x1a3d44(0x22a))/0x3+parseInt(_0x1a3d44(0x22b))/0x4+parseInt(_0x1a3d44(0x205))/0x5*(-parseInt(_0x1a3d44(0x28b))/0x6)+-parseInt(_0x1a3d44(0x1e5))/0x7*(parseInt(_0x1a3d44(0x28d))/0x8)+-parseInt(_0x1a3d44(0x258))/0x9+-parseInt(_0x1a3d44(0x1d3))/0xa*(-parseInt(_0x1a3d44(0x24d))/0xb);if(_0x56abf6===_0x5a9391)break;else _0x37cbfa['push'](_0x37cbfa['shift']());}catch(_0x19e575){_0x37cbfa['push'](_0x37cbfa['shift']());}}}(_0x4290,0x5b55b));import{connect}from'cloudflare:sockets';const rootDomain=_0x580a87(0x1de),serviceName='cfwork2ryco',apiKey='',apiEmail='',accountID='',zoneID='';let isApiReady=![],proxyIP='',cachedProxyList=[];const APP_DOMAIN=serviceName+'.'+rootDomain,PORTS=[0x1bb,0x50],PROTOCOLS=[reverse(_0x580a87(0x209)),reverse(_0x580a87(0x1e7)),reverse('ss')],KV_PROXY_URL=_0x580a87(0x231),PROXY_BANK_URL=_0x580a87(0x1d7),DNS_SERVER_ADDRESS=_0x580a87(0x28f),DNS_SERVER_PORT=0x35,PROXY_HEALTH_CHECK_API=_0x580a87(0x28c),CONVERTER_URL=_0x580a87(0x266),DONATE_LINK='https://trakteer.id/dickymuliafiqri/tip',BAD_WORDS_LIST=_0x580a87(0x208),PROXY_PER_PAGE=0x18,WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2,CORS_HEADER_OPTIONS={'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':_0x580a87(0x22f),'Access-Control-Max-Age':_0x580a87(0x26b)};async function getKVProxyList(_0x2a750f=KV_PROXY_URL){const _0x4fe9cd=_0x580a87;if(!_0x2a750f)throw new Error('No\x20KV\x20Proxy\x20URL\x20Provided!');const _0x50bab5=await fetch(_0x2a750f);return _0x50bab5[_0x4fe9cd(0x2aa)]==0xc8?await _0x50bab5[_0x4fe9cd(0x20f)]():{};}async function getProxyList(_0x1d9efc=PROXY_BANK_URL){const _0x3f1bd4=_0x580a87;if(!_0x1d9efc)throw new Error(_0x3f1bd4(0x223));const _0x3619c8=await fetch(_0x1d9efc);if(_0x3619c8[_0x3f1bd4(0x2aa)]==0xc8){const _0xc65d40=await _0x3619c8['text']()||'',_0x3e4f7d=_0xc65d40['split']('\x0a')[_0x3f1bd4(0x1fe)](Boolean);cachedProxyList=_0x3e4f7d[_0x3f1bd4(0x1d9)](_0x23c243=>{const _0xbaf0cf=_0x3f1bd4,[_0x31164c,_0x2dbaf3,_0x157b93,_0x38bb02]=_0x23c243[_0xbaf0cf(0x265)](',');return{'proxyIP':_0x31164c||_0xbaf0cf(0x1fc),'proxyPort':_0x2dbaf3||_0xbaf0cf(0x1fc),'country':_0x157b93||_0xbaf0cf(0x1fc),'org':_0x38bb02||'Unknown\x20Org'};})[_0x3f1bd4(0x1fe)](Boolean);}return cachedProxyList;}async function reverseProxy(_0x19d580,_0x58d9f2,_0x7e0416){const _0x2f7551=_0x580a87,_0x1eb94f=new URL(_0x19d580[_0x2f7551(0x290)]),_0x28ad9d=_0x58d9f2['split'](':');_0x1eb94f[_0x2f7551(0x227)]=_0x28ad9d[0x0],_0x1eb94f[_0x2f7551(0x1bc)]=_0x28ad9d[0x1]?.[_0x2f7551(0x24a)]()||'443',_0x1eb94f['pathname']=_0x7e0416||_0x1eb94f[_0x2f7551(0x1c9)];const _0x40cfc2=new Request(_0x1eb94f,_0x19d580);_0x40cfc2[_0x2f7551(0x270)]['set'](_0x2f7551(0x2ae),_0x19d580['headers'][_0x2f7551(0x1be)](_0x2f7551(0x1f5)));const _0x1d2b28=await fetch(_0x40cfc2),_0x5281f1=new Response(_0x1d2b28['body'],_0x1d2b28);for(const [_0x25b9dc,_0x4ae096]of Object['entries'](CORS_HEADER_OPTIONS)){_0x5281f1[_0x2f7551(0x270)][_0x2f7551(0x28e)](_0x25b9dc,_0x4ae096);}return _0x5281f1['headers'][_0x2f7551(0x28e)](_0x2f7551(0x1cd),_0x2f7551(0x1ea)),_0x5281f1;}function getAllConfig(_0x57f6b9,_0x171de7,_0x1e560e,_0x59226d=0x0){const _0x321b81=_0x580a87,_0x442207=PROXY_PER_PAGE*_0x59226d;try{const _0x51afa3=crypto[_0x321b81(0x247)](),_0x229a50=new URL(reverse(_0x321b81(0x209))+'://'+_0x171de7);_0x229a50[_0x321b81(0x238)][_0x321b81(0x28e)](_0x321b81(0x2ad),_0x321b81(0x2ac)),_0x229a50[_0x321b81(0x238)]['set'](_0x321b81(0x1b7),'ws'),_0x229a50[_0x321b81(0x238)][_0x321b81(0x28e)](_0x321b81(0x29b),_0x171de7);const _0xb7897c=new Document(_0x57f6b9);_0xb7897c[_0x321b81(0x1d0)](_0x321b81(0x2a6)),_0xb7897c[_0x321b81(0x1f2)](_0x321b81(0x220)+_0x1e560e[_0x321b81(0x23d)]),_0xb7897c[_0x321b81(0x1f2)](_0x321b81(0x21d)+_0x59226d+'/'+Math['floor'](_0x1e560e[_0x321b81(0x23d)]/PROXY_PER_PAGE));for(let _0x4cd6a7=_0x442207;_0x4cd6a7<_0x442207+PROXY_PER_PAGE;_0x4cd6a7++){const _0x3b68cb=_0x1e560e[_0x4cd6a7];if(!_0x3b68cb)break;const {proxyIP:_0x192307,proxyPort:_0x5ba86d,country:_0x622238,org:_0x3da8ff}=_0x3b68cb;_0x229a50[_0x321b81(0x238)][_0x321b81(0x28e)]('path','/'+_0x192307+'-'+_0x5ba86d);const _0x47ec34=[];for(const _0x14699b of PORTS){_0x229a50['port']=_0x14699b[_0x321b81(0x24a)](),_0x229a50[_0x321b81(0x2a2)]=_0x4cd6a7+0x1+'\x20'+getFlagEmoji(_0x622238)+'\x20'+_0x3da8ff+_0x321b81(0x1f7)+(_0x14699b==0x1bb?_0x321b81(0x1e9):_0x321b81(0x20d))+'\x20['+serviceName+']';for(const _0x305f90 of PROTOCOLS){_0x305f90==='ss'?(_0x229a50[_0x321b81(0x2a0)]=btoa(_0x321b81(0x211)+_0x51afa3),_0x229a50['searchParams'][_0x321b81(0x28e)]('plugin',_0x321b81(0x1dd)+(_0x14699b==0x50?'':_0x321b81(0x257))+_0x321b81(0x273)+_0x192307+'-'+_0x5ba86d+_0x321b81(0x21c)+_0x171de7)):(_0x229a50[_0x321b81(0x2a0)]=_0x51afa3,_0x229a50[_0x321b81(0x238)][_0x321b81(0x240)]('plugin')),_0x229a50[_0x321b81(0x1ef)]=_0x305f90,_0x229a50[_0x321b81(0x238)]['set']('security',_0x14699b==0x1bb?'tls':'none'),_0x229a50[_0x321b81(0x238)][_0x321b81(0x28e)](_0x321b81(0x248),_0x14699b==0x50&&_0x305f90==reverse('sselv')?'':_0x171de7),_0x47ec34[_0x321b81(0x1ba)](_0x229a50[_0x321b81(0x24a)]());}}_0xb7897c[_0x321b81(0x277)]({'proxyIP':_0x192307,'proxyPort':_0x5ba86d,'country':_0x622238,'org':_0x3da8ff},_0x47ec34);}return _0xb7897c['addPageButton'](_0x321b81(0x218),'/sub/'+(_0x59226d>0x0?_0x59226d-0x1:0x0),_0x59226d>0x0?![]:!![]),_0xb7897c[_0x321b81(0x1c3)](_0x321b81(0x27b),_0x321b81(0x261)+(_0x59226d+0x1),_0x59226d<Math['floor'](_0x1e560e[_0x321b81(0x23d)]/0xa)?![]:!![]),_0xb7897c['build']();}catch(_0x1350a3){return _0x321b81(0x241)+reverse(_0x321b81(0x272))+'\x20configurations.\x20'+_0x1350a3;}}export default{async 'fetch'(_0x12ac59,_0x19826c,_0x5c3420){const _0x36e8cf=_0x580a87;try{const _0x28a78e=new URL(_0x12ac59[_0x36e8cf(0x290)]),_0x41607d=_0x12ac59[_0x36e8cf(0x270)][_0x36e8cf(0x1be)](_0x36e8cf(0x1e0));apiKey&&apiEmail&&accountID&&zoneID&&(isApiReady=!![]);if(_0x41607d===_0x36e8cf(0x26a)){const _0x51d434=_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1ee)](/^\/(.+[:=-]\d+)$/);if(_0x28a78e['pathname'][_0x36e8cf(0x23d)]==0x3||_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1ee)](',')){const _0x17719a=_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x24f)]('/','')[_0x36e8cf(0x284)]()['split'](','),_0x4ea3ce=_0x17719a[Math[_0x36e8cf(0x206)](Math[_0x36e8cf(0x26c)]()*_0x17719a[_0x36e8cf(0x23d)])],_0x56ed64=await getKVProxyList();return proxyIP=_0x56ed64[_0x4ea3ce][Math[_0x36e8cf(0x206)](Math[_0x36e8cf(0x26c)]()*_0x56ed64[_0x4ea3ce][_0x36e8cf(0x23d)])],await websocketHandler(_0x12ac59);}else{if(_0x51d434)return proxyIP=_0x51d434[0x1],await websocketHandler(_0x12ac59);}}if(_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1d2)](_0x36e8cf(0x2a7))){const _0x501dbe=_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1ee)](/^\/sub\/(\d+)$/),_0xcca27f=parseInt(_0x501dbe?_0x501dbe[0x1]:'0'),_0x530d21=_0x12ac59['headers']['get'](_0x36e8cf(0x1f5)),_0x37b5c4=_0x28a78e[_0x36e8cf(0x238)]['get']('cc')?.[_0x36e8cf(0x265)](','),_0x5878f4=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x285))||_0x19826c[_0x36e8cf(0x224)];let _0x13b316=(await getProxyList(_0x5878f4))[_0x36e8cf(0x1fe)](_0x54a80f=>{const _0x137acb=_0x36e8cf;if(_0x37b5c4)return _0x37b5c4[_0x137acb(0x1d8)](_0x54a80f[_0x137acb(0x281)]);return!![];});const _0x3f0dfb=getAllConfig(_0x12ac59,_0x530d21,_0x13b316,_0xcca27f);return new Response(_0x3f0dfb,{'status':0xc8,'headers':{'Content-Type':_0x36e8cf(0x260)}});}else{if(_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1d2)](_0x36e8cf(0x2a5))){const _0x3acbc0=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x2a3))['split'](':'),_0x2e6c49=await checkProxyHealth(_0x3acbc0[0x0],_0x3acbc0[0x1]||'443');return new Response(JSON[_0x36e8cf(0x253)](_0x2e6c49),{'status':0xc8,'headers':{...CORS_HEADER_OPTIONS,'Content-Type':_0x36e8cf(0x1da)}});}else{if(_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x1d2)](_0x36e8cf(0x26f))){const _0x503070=_0x28a78e[_0x36e8cf(0x1c9)][_0x36e8cf(0x24f)](_0x36e8cf(0x26f),'');if(_0x503070[_0x36e8cf(0x1d2)](_0x36e8cf(0x1e1))){if(!isApiReady)return new Response('Api\x20not\x20ready',{'status':0x1f4});const _0x39b895=_0x503070[_0x36e8cf(0x24f)]('/domains',''),_0x2ccbda=new CloudflareApi();if(_0x39b895==_0x36e8cf(0x25d)){const _0xa0c772=await _0x2ccbda[_0x36e8cf(0x269)]();return new Response(JSON['stringify'](_0xa0c772),{'headers':{...CORS_HEADER_OPTIONS}});}else{if(_0x39b895=='/put'){const _0x289393=_0x28a78e['searchParams'][_0x36e8cf(0x1be)](_0x36e8cf(0x23c)),_0x554b0d=await _0x2ccbda[_0x36e8cf(0x297)](_0x289393);return new Response(_0x554b0d['toString'](),{'status':_0x554b0d,'headers':{...CORS_HEADER_OPTIONS}});}}}else{if(_0x503070[_0x36e8cf(0x1d2)]('/sub')){const _0x2c418b=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)]('cc')?.[_0x36e8cf(0x265)](',')||[],_0x23aaa4=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x1bc))?.['split'](',')||PORTS,_0x49b030=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x286))?.[_0x36e8cf(0x265)](',')||PROTOCOLS,_0xc0b456=parseInt(_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x2a4)))||0xa,_0x192878=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)](_0x36e8cf(0x25a))||_0x36e8cf(0x1c5),_0x5cc332=_0x28a78e[_0x36e8cf(0x238)]['get'](_0x36e8cf(0x23c))||APP_DOMAIN,_0xe3eb5e=_0x28a78e[_0x36e8cf(0x238)][_0x36e8cf(0x1be)]('proxy-list')||_0x19826c[_0x36e8cf(0x224)],_0x5ee2a3=await getProxyList(_0xe3eb5e)[_0x36e8cf(0x232)](_0x465a44=>{const _0x1399bd=_0x36e8cf;if(_0x2c418b[_0x1399bd(0x23d)])return _0x465a44['filter'](_0x428d4f=>_0x2c418b[_0x1399bd(0x1d8)](_0x428d4f[_0x1399bd(0x281)]));return _0x465a44;})[_0x36e8cf(0x232)](_0x2c2c10=>{return shuffleArray(_0x2c2c10),_0x2c2c10;}),_0x2e8bc8=crypto[_0x36e8cf(0x247)](),_0x71c03b=[];for(const _0x238dcc of _0x5ee2a3){const _0x422b1c=new URL(reverse(_0x36e8cf(0x209))+_0x36e8cf(0x1f6)+_0x5cc332);_0x422b1c[_0x36e8cf(0x238)][_0x36e8cf(0x28e)](_0x36e8cf(0x2ad),_0x36e8cf(0x2ac)),_0x422b1c[_0x36e8cf(0x238)]['set']('type','ws'),_0x422b1c['searchParams'][_0x36e8cf(0x28e)](_0x36e8cf(0x29b),APP_DOMAIN);for(const _0x1e00ad of _0x23aaa4){for(const _0x493a42 of _0x49b030){if(_0x71c03b[_0x36e8cf(0x23d)]>=_0xc0b456)break;_0x422b1c[_0x36e8cf(0x1ef)]=_0x493a42,_0x422b1c[_0x36e8cf(0x1bc)]=_0x1e00ad[_0x36e8cf(0x24a)](),_0x493a42=='ss'?(_0x422b1c[_0x36e8cf(0x2a0)]=btoa(_0x36e8cf(0x211)+_0x2e8bc8),_0x422b1c['searchParams'][_0x36e8cf(0x28e)](_0x36e8cf(0x217),_0x36e8cf(0x1dd)+(_0x1e00ad==0x50?'':_0x36e8cf(0x257))+_0x36e8cf(0x273)+_0x238dcc[_0x36e8cf(0x202)]+'-'+_0x238dcc[_0x36e8cf(0x279)]+';host='+APP_DOMAIN)):_0x422b1c['username']=_0x2e8bc8,_0x422b1c[_0x36e8cf(0x238)][_0x36e8cf(0x28e)](_0x36e8cf(0x2b0),_0x1e00ad==0x1bb?'tls':_0x36e8cf(0x2ac)),_0x422b1c[_0x36e8cf(0x238)][_0x36e8cf(0x28e)](_0x36e8cf(0x248),_0x1e00ad==0x50&&_0x493a42==reverse('sselv')?'':APP_DOMAIN),_0x422b1c[_0x36e8cf(0x238)][_0x36e8cf(0x28e)](_0x36e8cf(0x2af),'/'+_0x238dcc[_0x36e8cf(0x202)]+'-'+_0x238dcc[_0x36e8cf(0x279)]),_0x422b1c[_0x36e8cf(0x2a2)]=_0x71c03b[_0x36e8cf(0x23d)]+0x1+'\x20'+getFlagEmoji(_0x238dcc['country'])+'\x20'+_0x238dcc['org']+_0x36e8cf(0x1f7)+(_0x1e00ad==0x1bb?_0x36e8cf(0x1e9):_0x36e8cf(0x20d))+'\x20['+serviceName+']',_0x71c03b[_0x36e8cf(0x1ba)](_0x422b1c[_0x36e8cf(0x24a)]());}}}let _0x202f53='';switch(_0x192878){case _0x36e8cf(0x1c5):_0x202f53=_0x71c03b[_0x36e8cf(0x1df)]('\x0a');break;case _0x36e8cf(0x222):_0x202f53=btoa(_0x71c03b['join']('\x0a'));break;case'clash':case _0x36e8cf(0x296):case _0x36e8cf(0x27e):const _0x5e7477=await fetch(CONVERTER_URL,{'method':_0x36e8cf(0x1f4),'body':JSON[_0x36e8cf(0x253)]({'url':_0x71c03b[_0x36e8cf(0x1df)](','),'format':_0x192878,'template':'cf'})});if(_0x5e7477[_0x36e8cf(0x2aa)]==0xc8)_0x202f53=await _0x5e7477[_0x36e8cf(0x2a9)]();else return new Response(_0x5e7477['statusText'],{'status':_0x5e7477[_0x36e8cf(0x2aa)],'headers':{...CORS_HEADER_OPTIONS}});break;}return new Response(_0x202f53,{'status':0xc8,'headers':{...CORS_HEADER_OPTIONS}});}else{if(_0x503070['startsWith']('/myip'))return new Response(JSON[_0x36e8cf(0x253)]({'ip':_0x12ac59[_0x36e8cf(0x270)][_0x36e8cf(0x1be)](_0x36e8cf(0x1ec))||_0x12ac59[_0x36e8cf(0x270)][_0x36e8cf(0x1be)](_0x36e8cf(0x1bf))||_0x12ac59['headers'][_0x36e8cf(0x1be)](_0x36e8cf(0x21a)),'colo':_0x12ac59[_0x36e8cf(0x270)][_0x36e8cf(0x1be)](_0x36e8cf(0x26d))?.[_0x36e8cf(0x265)]('-')[0x1],..._0x12ac59['cf']}),{'headers':{...CORS_HEADER_OPTIONS}});}}}}}const _0x12d7ea=_0x19826c['REVERSE_PROXY_TARGET']||_0x36e8cf(0x25f);return await reverseProxy(_0x12ac59,_0x12d7ea);}catch(_0x16a3d6){return new Response(_0x36e8cf(0x29a)+_0x16a3d6[_0x36e8cf(0x24a)](),{'status':0x1f4,'headers':{...CORS_HEADER_OPTIONS}});}}};async function websocketHandler(_0x15a7e6){const _0x5738dc=_0x580a87,_0x33b8a5=new WebSocketPair(),[_0x4a9d6d,_0x5206c8]=Object[_0x5738dc(0x25b)](_0x33b8a5);_0x5206c8[_0x5738dc(0x1bb)]();let _0x466019='',_0x272dae='';const _0x1b8c3f=(_0x50f62c,_0x1477c0)=>{const _0x24dd66=_0x5738dc;console[_0x24dd66(0x221)]('['+_0x466019+':'+_0x272dae+']\x20'+_0x50f62c,_0x1477c0||'');},_0x5bbddd=_0x15a7e6[_0x5738dc(0x270)][_0x5738dc(0x1be)](_0x5738dc(0x233))||'',_0x4a9412=makeReadableWebSocketStream(_0x5206c8,_0x5bbddd,_0x1b8c3f);let _0x38b1fc={'value':null},_0x54216f=![];return _0x4a9412[_0x5738dc(0x29e)](new WritableStream({async 'write'(_0x1011d1,_0xb2c0b8){const _0x306673=_0x5738dc;if(_0x54216f)return handleUDPOutbound(DNS_SERVER_ADDRESS,DNS_SERVER_PORT,_0x1011d1,_0x5206c8,null,_0x1b8c3f);if(_0x38b1fc[_0x306673(0x267)]){const _0xeb6a2d=_0x38b1fc['value'][_0x306673(0x20e)]['getWriter']();await _0xeb6a2d[_0x306673(0x242)](_0x1011d1),_0xeb6a2d[_0x306673(0x1c2)]();return;}const _0x16057a=await protocolSniffer(_0x1011d1);let _0x1192b3;if(_0x16057a===reverse('najorT'))_0x1192b3=parseNajortHeader(_0x1011d1);else{if(_0x16057a===reverse('SSELV'))_0x1192b3=parseSselvHeader(_0x1011d1);else{if(_0x16057a===reverse('skcoswodahS'))_0x1192b3=parseSsHeader(_0x1011d1);else throw new Error(_0x306673(0x20b));}}_0x466019=_0x1192b3[_0x306673(0x263)],_0x272dae=_0x1192b3['portRemote']+_0x306673(0x1fa)+(_0x1192b3[_0x306673(0x27c)]?_0x306673(0x1c1):_0x306673(0x271));if(_0x1192b3[_0x306673(0x259)])throw new Error(_0x1192b3[_0x306673(0x1c6)]);if(_0x1192b3[_0x306673(0x27c)]){if(_0x1192b3[_0x306673(0x256)]===0x35)_0x54216f=!![];else throw new Error(_0x306673(0x23a));}if(_0x54216f)return handleUDPOutbound(DNS_SERVER_ADDRESS,DNS_SERVER_PORT,_0x1011d1,_0x5206c8,_0x1192b3[_0x306673(0x1c7)],_0x1b8c3f);handleTCPOutBound(_0x38b1fc,_0x1192b3['addressRemote'],_0x1192b3['portRemote'],_0x1192b3['rawClientData'],_0x5206c8,_0x1192b3[_0x306673(0x1c7)],_0x1b8c3f);},'close'(){const _0x36b5f1=_0x5738dc;_0x1b8c3f(_0x36b5f1(0x200));},'abort'(_0x2664d){const _0x33348b=_0x5738dc;_0x1b8c3f(_0x33348b(0x1ce),JSON[_0x33348b(0x253)](_0x2664d));}}))[_0x5738dc(0x237)](_0x42269e=>{const _0x3153e9=_0x5738dc;_0x1b8c3f(_0x3153e9(0x230),_0x42269e);}),new Response(null,{'status':0x65,'webSocket':_0x4a9d6d});}async function protocolSniffer(_0x31eef8){const _0x4766c3=_0x580a87;if(_0x31eef8[_0x4766c3(0x26e)]>=0x3e){const _0x201763=new Uint8Array(_0x31eef8['slice'](0x38,0x3c));if(_0x201763[0x0]===0xd&&_0x201763[0x1]===0xa){if(_0x201763[0x2]===0x1||_0x201763[0x2]===0x3||_0x201763[0x2]===0x7f){if(_0x201763[0x3]===0x1||_0x201763[0x3]===0x3||_0x201763[0x3]===0x4)return reverse('najorT');}}}const _0x5ab61e=new Uint8Array(_0x31eef8[_0x4766c3(0x229)](0x1,0x11));if(arrayBufferToHex(_0x5ab61e)[_0x4766c3(0x1ee)](/^[0-9a-f]{8}[0-9a-f]{4}4[0-9a-f]{3}[89ab][0-9a-f]{3}[0-9a-f]{12}$/i))return reverse(_0x4766c3(0x272));return reverse(_0x4766c3(0x1c4));}async function handleTCPOutBound(_0x3199f4,_0x58b27d,_0x286f4b,_0x38eba6,_0x517102,_0x200e5f,_0x579b34){async function _0x273587(_0xa72c9a,_0x446bb9){const _0x4a572b=_0x18e0,_0x2dc5f4=connect({'hostname':_0xa72c9a,'port':_0x446bb9});_0x3199f4[_0x4a572b(0x267)]=_0x2dc5f4,_0x579b34('connected\x20to\x20'+_0xa72c9a+':'+_0x446bb9);const _0x3be0b2=_0x2dc5f4[_0x4a572b(0x20e)][_0x4a572b(0x2a8)]();return await _0x3be0b2[_0x4a572b(0x242)](_0x38eba6),_0x3be0b2[_0x4a572b(0x1c2)](),_0x2dc5f4;}async function _0x1338cd(){const _0x1957f9=_0x18e0,_0x35c56b=await _0x273587(proxyIP[_0x1957f9(0x265)](/[:=-]/)[0x0]||_0x58b27d,proxyIP['split'](/[:=-]/)[0x1]||_0x286f4b);_0x35c56b[_0x1957f9(0x1eb)]['catch'](_0x1f8a63=>{const _0x1d8dfe=_0x1957f9;console['log'](_0x1d8dfe(0x23e),_0x1f8a63);})[_0x1957f9(0x1b8)](()=>{safeCloseWebSocket(_0x517102);}),remoteSocketToWS(_0x35c56b,_0x517102,_0x200e5f,null,_0x579b34);}const _0x17a166=await _0x273587(_0x58b27d,_0x286f4b);remoteSocketToWS(_0x17a166,_0x517102,_0x200e5f,_0x1338cd,_0x579b34);}async function handleUDPOutbound(_0x3ac0b3,_0xac48b5,_0x204afe,_0x7d821d,_0x44fa6d,_0x1744ba){const _0x107c5a=_0x580a87;try{let _0x4566bb=_0x44fa6d;const _0x1ee366=connect({'hostname':_0x3ac0b3,'port':_0xac48b5});_0x1744ba(_0x107c5a(0x21b)+_0x3ac0b3+':'+_0xac48b5);const _0x511a95=_0x1ee366[_0x107c5a(0x20e)][_0x107c5a(0x2a8)]();await _0x511a95[_0x107c5a(0x242)](_0x204afe),_0x511a95['releaseLock'](),await _0x1ee366[_0x107c5a(0x219)][_0x107c5a(0x29e)](new WritableStream({async 'write'(_0x526a0e){const _0xeeb33b=_0x107c5a;_0x7d821d[_0xeeb33b(0x207)]===WS_READY_STATE_OPEN&&(_0x4566bb?(_0x7d821d[_0xeeb33b(0x1e6)](await new Blob([_0x4566bb,_0x526a0e])['arrayBuffer']()),_0x4566bb=null):_0x7d821d[_0xeeb33b(0x1e6)](_0x526a0e));},'close'(){const _0xc72ac8=_0x107c5a;_0x1744ba(_0xc72ac8(0x27a)+_0x3ac0b3+_0xc72ac8(0x274));},'abort'(_0x1e60b8){const _0x4ea2be=_0x107c5a;console[_0x4ea2be(0x262)](_0x4ea2be(0x27a)+_0xac48b5+'\x20aborted\x20due\x20to\x20'+_0x1e60b8);}}));}catch(_0x72144c){console[_0x107c5a(0x262)](_0x107c5a(0x1db)+_0x72144c[_0x107c5a(0x1c6)]);}}function makeReadableWebSocketStream(_0x962e68,_0x5c25a1,_0x16abc5){let _0x1ae60a=![];const _0x56747d=new ReadableStream({'start'(_0x44c309){const _0x364a39=_0x18e0;_0x962e68[_0x364a39(0x1b9)](_0x364a39(0x1c6),_0x16e988=>{const _0x49ca20=_0x364a39;if(_0x1ae60a)return;const _0x9c9ff6=_0x16e988[_0x49ca20(0x20a)];_0x44c309['enqueue'](_0x9c9ff6);}),_0x962e68[_0x364a39(0x1b9)](_0x364a39(0x275),()=>{const _0x4d1162=_0x364a39;safeCloseWebSocket(_0x962e68);if(_0x1ae60a)return;_0x44c309[_0x4d1162(0x275)]();}),_0x962e68[_0x364a39(0x1b9)]('error',_0xc53a9f=>{const _0x1fc4bf=_0x364a39;_0x16abc5(_0x1fc4bf(0x298)),_0x44c309[_0x1fc4bf(0x262)](_0xc53a9f);});const {earlyData:_0x1058d8,error:_0x2520af}=base64ToArrayBuffer(_0x5c25a1);if(_0x2520af)_0x44c309[_0x364a39(0x262)](_0x2520af);else _0x1058d8&&_0x44c309[_0x364a39(0x291)](_0x1058d8);},'pull'(_0x4fd4b0){},'cancel'(_0x234a7a){const _0xa89671=_0x18e0;if(_0x1ae60a)return;_0x16abc5(_0xa89671(0x245)+_0x234a7a),_0x1ae60a=!![],safeCloseWebSocket(_0x962e68);}});return _0x56747d;}function parseSsHeader(_0x39fea4){const _0x92a15e=_0x580a87,_0x140e8e=new DataView(_0x39fea4),_0x1f59ff=_0x140e8e[_0x92a15e(0x24c)](0x0);let _0x1d6ad2=0x0,_0x75a8a=0x1,_0x1e993c='';switch(_0x1f59ff){case 0x1:_0x1d6ad2=0x4,_0x1e993c=new Uint8Array(_0x39fea4[_0x92a15e(0x229)](_0x75a8a,_0x75a8a+_0x1d6ad2))[_0x92a15e(0x1df)]('.');break;case 0x3:_0x1d6ad2=new Uint8Array(_0x39fea4['slice'](_0x75a8a,_0x75a8a+0x1))[0x0],_0x75a8a+=0x1,_0x1e993c=new TextDecoder()['decode'](_0x39fea4[_0x92a15e(0x229)](_0x75a8a,_0x75a8a+_0x1d6ad2));break;case 0x4:_0x1d6ad2=0x10;const _0x3b7625=new DataView(_0x39fea4[_0x92a15e(0x229)](_0x75a8a,_0x75a8a+_0x1d6ad2)),_0x3f1ffd=[];for(let _0x1d422a=0x0;_0x1d422a<0x8;_0x1d422a++){_0x3f1ffd['push'](_0x3b7625[_0x92a15e(0x235)](_0x1d422a*0x2)[_0x92a15e(0x24a)](0x10));}_0x1e993c=_0x3f1ffd[_0x92a15e(0x1df)](':');break;default:return{'hasError':!![],'message':_0x92a15e(0x204)+reverse('skcoswodahS')+':\x20'+_0x1f59ff};}if(!_0x1e993c)return{'hasError':!![],'message':_0x92a15e(0x201)+_0x1f59ff};const _0x1efc2f=_0x75a8a+_0x1d6ad2,_0x315302=_0x39fea4[_0x92a15e(0x229)](_0x1efc2f,_0x1efc2f+0x2),_0x2892fa=new DataView(_0x315302)[_0x92a15e(0x235)](0x0);return{'hasError':![],'addressRemote':_0x1e993c,'addressType':_0x1f59ff,'portRemote':_0x2892fa,'rawDataIndex':_0x1efc2f+0x2,'rawClientData':_0x39fea4[_0
